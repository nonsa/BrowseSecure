var Message=function(i){function e(a,b,c){return{message:a,to_iframe:h&&("undefined"===typeof b?!1:b),to_top_window:"undefined"===typeof c?!0:c}}var d=null,c={},h="true"==i.manifest.runiniframe,g=0,f=function(a,b,c){"undefined"===typeof Crossrider?chrome.extension.sendRequest({action:"message",params:[a,b,c]}):Crossrider.message(a,b)};this.setTabId=function(a){d=a};this.toActiveTab=function(a,b){f("active",e(a,"undefined"===typeof b?!0:b),d)};this.toAllTabs=function(a,b){f("all",e(a,"undefined"===
typeof b?!0:b),d)};this.toBackground=function(a){f("background",e(a),d)};this.toCurrentTabWindow=function(a){f("to_tab",e(a),d)};this.toCurrentTabIframes=function(a){f("to_tab",e(a,!0,!1),d)};this.call=function(a){var b=window.top!==window.self;if(!(!b&&!a.to_top_window||b&&(!a.to_iframe||!h)))for(var d in c)c.hasOwnProperty(d)&&c[d].callback(a.message)};this.addListener=function(a){++g;c[g]={callback:a};return g};this.removeListener=function(a){return"undefined"===typeof a?(c={},!0):c.hasOwnProperty(a)?
(delete c[a],!0):!1};return this};